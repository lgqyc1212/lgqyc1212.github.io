<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hello World</title>
    <url>/2019/09/21/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
      <categories>
        <category>ç¾å¥½</category>
      </categories>
      <tags>
        <tag>ç”Ÿæ´»</tag>
      </tags>
  </entry>
  <entry>
    <title>jQueryçš„ajaxé“¾å¼ç¼–ç¨‹æ–¹æ³•</title>
    <url>/2019/03/08/Vue%E4%BC%A0%E5%80%BC--%E4%B8%89%E7%A7%8D%E5%B8%B8%E7%94%A8/</url>
    <content><![CDATA[<h1 id="Vueä¼ å€¼æ€»ç»“"><a href="#Vueä¼ å€¼æ€»ç»“" class="headerlink" title="Vueä¼ å€¼æ€»ç»“"></a>Vueä¼ å€¼æ€»ç»“</h1><p>å¸¸è§çš„ä¸‰ç§æ–¹æ³•ï¼š</p>
<p>è‡ªå­¦çš„å¿«ä¹ï¼Œå˜»å˜»ğŸ¤­ã€‚</p>
<h2 id="çˆ¶ç»„ä»¶ä¼ å€¼ç»™å­ç»„ä»¶"><a href="#çˆ¶ç»„ä»¶ä¼ å€¼ç»™å­ç»„ä»¶" class="headerlink" title="çˆ¶ç»„ä»¶ä¼ å€¼ç»™å­ç»„ä»¶"></a>çˆ¶ç»„ä»¶ä¼ å€¼ç»™å­ç»„ä»¶</h2><p><strong>é¦–å…ˆçˆ¶ç»„ä»¶å‘é€çš„å½¢å¼æ˜¯ç”¨bind(ç”¨ç¼©å†™:)ç»‘å®šå€¼åˆ°å­ç»„ä»¶èº«ä¸Šã€‚ç„¶åå­ç»„ä»¶ç”¨å±æ€§propsæ¥æ”¶ã€‚</strong></p>
<p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶è¿›è¡Œä¼ å€¼ï¼š</p>
<p>çˆ¶ç»„ä»¶:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> &lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    çˆ¶ç»„ä»¶:</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;name&quot;&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;!-- å¼•å…¥å­ç»„ä»¶ --&gt;</span><br><span class="line">    &lt;child :inputName=&quot;name&quot;&gt;&lt;/child&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import child from &apos;./child&apos;</span><br><span class="line">  export default &#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">      child</span><br><span class="line">    &#125;,</span><br><span class="line">    data () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        name: &apos;&apos;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å­ç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">     &lt;div&gt;</span><br><span class="line">       å­ç»„ä»¶:</span><br><span class="line">       &lt;span&gt;&#123;&#123;inputName&#125;&#125;&lt;/span&gt;</span><br><span class="line">     &lt;/div&gt;</span><br><span class="line">   &lt;/template&gt;</span><br><span class="line">   &lt;script&gt;</span><br><span class="line">     export default &#123;</span><br><span class="line">       // æ¥å—çˆ¶ç»„ä»¶çš„å€¼</span><br><span class="line">       props: &#123;</span><br><span class="line">         inputName: String,</span><br><span class="line">         required: true</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="å­ç»„ä»¶ä¼ å€¼çˆ¶ç»„ä»¶"><a href="#å­ç»„ä»¶ä¼ å€¼çˆ¶ç»„ä»¶" class="headerlink" title="å­ç»„ä»¶ä¼ å€¼çˆ¶ç»„ä»¶"></a>å­ç»„ä»¶ä¼ å€¼çˆ¶ç»„ä»¶</h2><p>*<em>é¦–å…ˆæ˜¯å­ç»„ä»¶å‘é€çš„å½¢å¼æ˜¯this.$emit(äº‹ä»¶å,éœ€è¦å‘é€çš„å€¼)ï¼Œ<code>äº‹ä»¶åï¼šçˆ¶ç»„ä»¶onç›‘å¬çš„æ–¹æ³•</code>ï¼Œçˆ¶ç»„ä»¶ç¬¬ä¸€ä»¶äº‹å°±æ˜¯ç›‘å¬å­ç»„ä»¶å‘é€è¿‡æ¥çš„äº‹ä»¶åï¼Œ@äº‹ä»¶å=è·å–å€¼çš„æ–¹æ³•ã€‚<code>è·å–å€¼çš„æ–¹æ³•ï¼ˆå€¼ï¼‰</code>ï¼Œå°±è¿™æ ·æ‹¿åˆ°äº†å„¿å­å‘è¿‡æ¥çš„å€¼ *</em></p>
<p>å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼:</p>
<p>å­ç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">template&gt;</span><br><span class="line">          &lt;div&gt;</span><br><span class="line">            å­ç»„ä»¶:</span><br><span class="line">            &lt;span&gt;&#123;&#123;childValue&#125;&#125;&lt;/span&gt;</span><br><span class="line">            &lt;!-- å®šä¹‰ä¸€ä¸ªå­ç»„ä»¶ä¼ å€¼çš„æ–¹æ³• --&gt;</span><br><span class="line">            &lt;input type=&quot;button&quot; value=&quot;ç‚¹å‡»è§¦å‘&quot; @click=&quot;childClick&quot;&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">          export default &#123;</span><br><span class="line">            data () &#123;</span><br><span class="line">              return &#123;</span><br><span class="line">                childValue: &apos;æˆ‘æ˜¯å­ç»„ä»¶çš„æ•°æ®&apos;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">              childClick () &#123;</span><br><span class="line">                // childByValueæ˜¯åœ¨çˆ¶ç»„ä»¶onç›‘å¬çš„æ–¹æ³•</span><br><span class="line">                // ç¬¬äºŒä¸ªå‚æ•°this.childValueæ˜¯éœ€è¦ä¼ çš„å€¼</span><br><span class="line">                this.$emit(&apos;childByValue&apos;, this.childValue)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>çˆ¶ç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  &lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    çˆ¶ç»„ä»¶:</span><br><span class="line">    &lt;span&gt;&#123;&#123;name&#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;!-- å¼•å…¥å­ç»„ä»¶ å®šä¹‰ä¸€ä¸ªonçš„æ–¹æ³•ç›‘å¬å­ç»„ä»¶çš„çŠ¶æ€--&gt;</span><br><span class="line">    &lt;child v-on:childByValue=&quot;childByValue&quot;&gt;&lt;/child&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import child from &apos;./child&apos;</span><br><span class="line">  export default &#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">      child</span><br><span class="line">    &#125;,</span><br><span class="line">    data () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        name: &apos;&apos;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      childByValue: function (childValue) &#123;</span><br><span class="line">        // childValueå°±æ˜¯å­ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼</span><br><span class="line">        this.name = childValue</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="å…„å¼Ÿä¼ å€¼"><a href="#å…„å¼Ÿä¼ å€¼" class="headerlink" title="å…„å¼Ÿä¼ å€¼"></a>å…„å¼Ÿä¼ å€¼</h2><p><strong>ä¸¤ä¸ªéƒ½è¦å¼•å…¥å…¬å…±js-&gt;busã€‚é¦–å…ˆæ˜¯å‘é€è€…ï¼Œthis.$emit(åå­—ï¼Œå€¼)ã€‚ç„¶åæ˜¯æ¥å—è€…,this.$on(â€œä¼ è¿‡æ¥çš„é‚£ä¸ªåå­—â€ï¼Œå‡½æ•°ï¼ˆå€¼ï¼‰)ï¼Œè¿™é‡Œè¦æ³¨æ„çš„æ˜¯æ¥å—è€…çš„è¿™ä¸ªç›‘å¬äº‹ä»¶åº”è¯¥æ˜¯æ”¾åœ¨é’©å­mountedäº‹ä»¶å†…ã€‚åŒæ—¶æ³¨æ„thisæŒ‡å‘é—®é¢˜ã€‚ï¼ˆå¯ç”¨å°è£…æ–¹æ³•ï¼‰</strong></p>
<p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶è¿›è¡Œä¼ å€¼ï¼š</p>
<p>å…¬å…±bus.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//bus.js</span><br><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">export default new Vue()</span><br></pre></td></tr></table></figure>

<p>ç»„ä»¶Aï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    Aç»„ä»¶:</span><br><span class="line">    &lt;span&gt;&#123;&#123;elementValue&#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;input type=&quot;button&quot; value=&quot;ç‚¹å‡»è§¦å‘&quot; @click=&quot;elementByValue&quot;&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  // å¼•å…¥å…¬å…±çš„bugï¼Œæ¥åšä¸ºä¸­é—´ä¼ è¾¾çš„å·¥å…·</span><br><span class="line">  import Bus from &apos;./bus.js&apos;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        elementValue: 4</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      elementByValue: function () &#123;</span><br><span class="line">        Bus.$emit(&apos;val&apos;, this.elementValue)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ç»„ä»¶Bï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">     &lt;div&gt;</span><br><span class="line">       Bç»„ä»¶:</span><br><span class="line">       &lt;input type=&quot;button&quot; value=&quot;ç‚¹å‡»è§¦å‘&quot; @click=&quot;getData&quot;&gt;</span><br><span class="line">       &lt;span&gt;&#123;&#123;name&#125;&#125;&lt;/span&gt;</span><br><span class="line">     &lt;/div&gt;</span><br><span class="line">   &lt;/template&gt;</span><br><span class="line">   &lt;script&gt;</span><br><span class="line">     import Bus from &apos;./bus.js&apos;</span><br><span class="line">     export default &#123;</span><br><span class="line">       data () &#123;</span><br><span class="line">         return &#123;</span><br><span class="line">           name: 0</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       mounted: function () &#123;</span><br><span class="line">         var vm = this</span><br><span class="line">         // ç”¨$onäº‹ä»¶æ¥æ¥æ”¶å‚æ•°</span><br><span class="line">         Bus.$on(&apos;val&apos;, (data) =&gt; &#123;</span><br><span class="line">           console.log(data)</span><br><span class="line">           vm.name = data</span><br><span class="line">         &#125;)</span><br><span class="line">       &#125;,</span><br><span class="line">       methods: &#123;</span><br><span class="line">         getData: function () &#123;</span><br><span class="line">           this.name++</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å…ˆè¿™æ ·ï¼Œæ˜æ—¥æ¥ä¸€èµ·å­¦ä¹ vuexå“¦ï¼</p>
]]></content>
      <categories>
        <category>ç¾å¥½</category>
      </categories>
      <tags>
        <tag>jq</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‰‹å†™å‡½æ•°é˜²æŠ–å’Œå‡½æ•°èŠ‚æµ</title>
    <url>/2019/01/08/%E8%8A%82%E6%B5%81%E5%92%8C%E9%98%B2%E6%8A%96/</url>
    <content><![CDATA[<p> è¿‘å‡ æ—¥çš„optionslodashå®‰å…¨æ¼æ´ é—®é¢˜ä»Šå¤©å’Œå¤§å®¶æ¢è®¨æ¢è®¨å‡½æ•°é˜²æŠ–å’ŒèŠ‚æµï¼š</p>
<ul>
<li>å‡½æ•°é˜²æŠ–ï¼šåœ¨è§„å®šæ—¶é—´å†…ï¼Œå†æ¬¡æ‰§è¡Œï¼Œæ¸…é™¤ä¸Šä¸€æ¬¡æ‰§è¡Œï¼Œé‡æ–°æ‰§è¡Œã€‚<ul>
<li>lodashæä¾› <a href="https://www.lodashjs.com/docs/latest#debouncefunc-wait0-options" target="_blank" rel="noopener">debounce</a>  </li>
</ul>
</li>
<li>å‡½æ•°èŠ‚æµï¼šåœ¨è§„å®šæ—¶é—´å†…ï¼Œå†æ¬¡æ‰§è¡Œï¼Œå¿…é¡»ç­‰ä¸Šä¸€æ¬¡æ‰§è¡Œå®Œæ¯•ï¼Œæ‰èƒ½æ‰§è¡Œã€‚<ul>
<li>lodashæä¾› <a href="https://www.lodashjs.com/docs/latest#_throttlefunc-wait0" target="_blank" rel="noopener">throttle</a>  </li>
</ul>
</li>
<li>options<a href="https://www.infoq.cn/article/k7C-ZvXKOHh284ToEy9K" target="_blank" rel="noopener">lodashå®‰å…¨æ¼æ´</a>   å¦‚æœåªæ˜¯ä¸ªåˆ«åŠŸèƒ½ï¼Œå»ºè®®è‡ªå·±å®ç°ã€‚ï¼ˆæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»çœ‹çœ‹å“¦ï¼‰</li>
</ul>
<h2 id="æ‰‹å†™å‡½æ•°é˜²æŠ–å’Œå‡½æ•°èŠ‚æµ"><a href="#æ‰‹å†™å‡½æ•°é˜²æŠ–å’Œå‡½æ•°èŠ‚æµ" class="headerlink" title="æ‰‹å†™å‡½æ•°é˜²æŠ–å’Œå‡½æ•°èŠ‚æµ"></a>æ‰‹å†™å‡½æ•°é˜²æŠ–å’Œå‡½æ•°èŠ‚æµ</h2><h3 id="å‡½æ•°èŠ‚æµ"><a href="#å‡½æ•°èŠ‚æµ" class="headerlink" title="å‡½æ•°èŠ‚æµ"></a>å‡½æ•°èŠ‚æµ</h3><p>å‡½æ•°èŠ‚æµæ˜¯è®©è¿™ä¸ªå‡½æ•°åœ¨é—´éš”ä¸€æ®µæ—¶é—´æ‰§è¡Œä¸€æ¬¡</p>
<p> ä»¥è¾“å…¥æ¡†ä¸ºä¾‹ï¼Œå‡è®¾ä½ æƒ³æŸ¥è¯¢xxxxï¼Œä½ æƒ³å®ç°å½“æˆ‘ä»¬å¼€å§‹è¾“å…¥å¤šå°‘ç§’ä¹‹åï¼Œæ‰§è¡ŒæŸ¥è¯¢æ“ä½œã€‚ï¼ˆå¹¶ä¸ä¸€å®šè¦è¾“å…¥å®Œæ¯•ï¼‰</p>
<p>æ ¸å¿ƒæ˜¯å»åˆ¤æ–­å½“å‰æ—¶é—´å’Œå¼€å§‹æ—¶é—´çš„é—´éš”æ˜¯å¦åˆ°è¾¾äº†è®¾ç½®çš„delayå€¼ï¼Œå¦‚æœåˆ°è¾¾äº†ï¼Œå°±æ‰§è¡Œä¸€æ¬¡å›è°ƒï¼Œæ²¡æœ‰åˆ™ä¸æ‰§è¡Œã€‚</p>
<h3 id="å‡½æ•°é˜²æŠ–"><a href="#å‡½æ•°é˜²æŠ–" class="headerlink" title="å‡½æ•°é˜²æŠ–"></a>å‡½æ•°é˜²æŠ–</h3><p>è®©è¿™ä¸ªå‡½æ•°åœ¨æŒ‡å‘ä¸Šä¸€æ¬¡ä¹‹åè¿‡äº†ä½ è§„å®šçš„æ—¶é—´åœ¨æ‰§è¡Œçš„ä¸€ç§æ–¹æ³•ï¼›</p>
<p>æ ¸å¿ƒåœ¨äºæ¯æ¬¡éƒ½å»clearä¸€ä¸ªå»¶æ—¶å™¨ï¼Œç„¶åæ¯æ¬¡æ‰§è¡Œçš„å‡½æ•°çš„æ—¶å€™ï¼Œéƒ½å»clearä¹‹å‰çš„å»¶æ—¶å™¨ã€‚åªæœ‰ä½ ä¸­æ–­çš„æ—¶å€™ï¼Œæ‰ä¼šå»æ‰§è¡Œç›¸åº”å›è°ƒ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">method,context</span>)</span>&#123;</span><br><span class="line">    cleatTimeout(method,tId)</span><br><span class="line">    method.tId = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        method.call(context)</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="èŠ‚æµ"><a href="#èŠ‚æµ" class="headerlink" title="èŠ‚æµ"></a>èŠ‚æµ</h3><hr>
<p>èŠ‚æµæ˜¯é«˜é¢‘äº‹ä»¶è§¦å‘ï¼Œä½†æ˜¯nç§’å†…ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥èŠ‚æµä¼šç¨€é‡Šå‡½æ•°çš„æ‰§è¡Œé¢‘ç‡</p>
<h4 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h4><p>æ¯æ¬¡è§¦å‘äº‹ä»¶æ—¶éƒ½åˆ¤æ–­å½“å‰æ˜¯å¦æœ‰ç­‰å¾…æ‰§è¡Œçš„å»¶æ—¶å‡½æ•°</p>
<h3 id="é˜²æŠ–"><a href="#é˜²æŠ–" class="headerlink" title="é˜²æŠ–"></a>é˜²æŠ–</h3><hr>
<p>è§¦å‘é«˜é¢‘äº‹ä»¶ånç§’å†…å‡½æ•°æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœnç§’å†…é«˜é¢‘äº‹ä»¶å†æ¬¡è¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡ç®—æ—¶é—´ã€‚ï¼ˆé”€æ¯å®šæ—¶å™¨ï¼‰</p>
<h4 id="æ€è·¯ï¼š-1"><a href="#æ€è·¯ï¼š-1" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h4><p>æ¯æ¬¡è§¦å‘äº‹ä»¶æ—¶éƒ½å–æ¶ˆä¹‹å‰çš„å»¶æ—¶è°ƒç”¨æ–¹æ³•</p>
<h3 id="å°è£…èŠ‚æµå’Œé˜²æŠ–ï¼Œé€šè¿‡ç¬¬ä¸‰å‚æ•°æ¥åˆ‡æ¢æ¨¡å¼"><a href="#å°è£…èŠ‚æµå’Œé˜²æŠ–ï¼Œé€šè¿‡ç¬¬ä¸‰å‚æ•°æ¥åˆ‡æ¢æ¨¡å¼" class="headerlink" title="å°è£…èŠ‚æµå’Œé˜²æŠ–ï¼Œé€šè¿‡ç¬¬ä¸‰å‚æ•°æ¥åˆ‡æ¢æ¨¡å¼"></a>å°è£…èŠ‚æµå’Œé˜²æŠ–ï¼Œé€šè¿‡ç¬¬ä¸‰å‚æ•°æ¥åˆ‡æ¢æ¨¡å¼</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> throttle = <span class="function"><span class="keyword">function</span>(<span class="params">fn,delay,isDebounce</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timer </span><br><span class="line">    <span class="keyword">let</span> lastCall = <span class="number">0</span></span><br><span class="line">    retrun <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(isDebounce) &#123;</span><br><span class="line">             <span class="keyword">if</span>(timer) clearTimeout(timet)</span><br><span class="line">                timet = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                fn(...args)</span><br><span class="line">              &#125;,delay)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime()</span><br><span class="line">            <span class="keyword">if</span>(now - lastCall &lt; delay) <span class="keyword">return</span></span><br><span class="line">            lastCall = now</span><br><span class="line">            fn(...args)</span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç¾å¥½</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰åç«¯äº¤äº’æ–¹å¼</title>
    <url>/2019/01/08/%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%96%B9%E5%BC%8F/</url>
    <content><![CDATA[<h1 id="1ã€å‰åç«¯äº¤äº’çš„æ–¹å¼"><a href="#1ã€å‰åç«¯äº¤äº’çš„æ–¹å¼" class="headerlink" title="1ã€å‰åç«¯äº¤äº’çš„æ–¹å¼"></a>1ã€å‰åç«¯äº¤äº’çš„æ–¹å¼</h1><p>å…³äºå‰åç«¯äº¤äº’çš„æ–¹å¼ï¼Œåº”è¯¥æ˜¯æ¯ä¸ªå‰ç«¯äººå‘˜éƒ½åº”è¯¥æŒæ¡çš„æŠ€æœ¯ï¼Œä»–æ˜¯éš¾ç‚¹ï¼ŒåŒæ ·ä¹Ÿæ˜¯é‡ç‚¹ã€‚</p>
<p>äº¤äº’å°±æ˜¯å¾ˆå¤šäº’è”ç½‘å¹³å°è¿½æ±‚æ‰“é€ çš„ä¸€ä¸ªåŠŸèƒ½çŠ¶æ€ã€‚é€šè¿‡æŸä¸ªå…·æœ‰äº¤äº’åŠŸèƒ½çš„äº’è”ç½‘å¹³å°ï¼Œè®©ç”¨æˆ·åœ¨ä¸Šé¢ä¸ä»…å¯ä»¥è·å¾—ç›¸å…³èµ„è®¯ã€ä¿¡æ¯æˆ–æœåŠ¡ï¼Œè¿˜èƒ½ä½¿ç”¨æˆ·ä¸ç”¨æˆ·ä¹‹é—´æˆ–ç”¨æˆ·ä¸å¹³å°ä¹‹é—´ç›¸äº’äº¤æµä¸äº’åŠ¨ï¼Œä»è€Œç¢°æ’å‡ºæ›´å¤šçš„åˆ›æ„ã€æ€æƒ³å’Œéœ€æ±‚ç­‰ã€‚</p>
<p>äº¤äº’ æ˜¯æŒ‡æ›¿æ¢ï¼›äº’ç›¸ï¼›å½¼æ­¤ã€‚è¯­å‡ºã€Šäº¬æ°æ˜“ä¼ Â·éœ‡ã€‹ï¼šâ€œéœ‡åˆ†é˜´é˜³ï¼Œäº¤äº’ç”¨äº‹ã€‚â€ã€‚ã€‚ã€‚</p>
<p>è¯è¯´å¤šäº†ä¸‹é¢è®©å¼€å§‹æ¢è®¨å§ã€‚</p>
<h2 id="åƒå‘é€HTTPè¯·æ±‚æœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š"><a href="#åƒå‘é€HTTPè¯·æ±‚æœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š" class="headerlink" title="åƒå‘é€HTTPè¯·æ±‚æœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š"></a>åƒå‘é€HTTPè¯·æ±‚æœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š</h2><ul>
<li>ç”¨formå¯ä»¥å‘é€è¯·æ±‚ï¼Œä½†æ˜¯ä¼šåˆ·æ–°é¡µé¢æˆ–æ–°å¼€é¡µé¢ï¼›</li>
<li>ç”¨aå¯ä»¥å‘ getè¯·æ±‚ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¼šåˆ·æ–°é¡µé¢æˆ–æ–°å¼€çª—å£ï¼›</li>
<li>ç”¨imgå¯ä»¥å‘getè¯·æ±‚ï¼Œä½†æ˜¯åªèƒ½ä»¥å›¾ç‰‡çš„å½¢å¼å±•ç¤ºï¼›</li>
<li>ç”¨linkå¯ä»¥å‘ getè¯·æ±‚ï¼Œä½†æ˜¯åªèƒ½ä»¥cssã€faviconçš„å½¢å¼å±•ç¤ºï¼›</li>
<li>ç”¨script å¯ä»¥å‘getè¯·æ±‚ï¼Œä½†æ˜¯åªèƒ½ä»¥è„šæœ¬çš„å½¢å¼è¿è¡Œ</li>
</ul>
<h2 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h2><p>jsonpå³â€json paddingâ€œï¼Œå½“ä¸¤ä¸ªç½‘ç«™ï¼ˆå¦‚x.comè®¿é—®y.com ,ä¸åŒåŸŸï¼‰ä¹‹é—´éœ€è¦è®¿é—®ï¼Œå¯ä»¥é€šè¿‡scriptä½œç”¨äº¤äº’æ–¹å¼ï¼Œå…·ä½“è¿‡ç¨‹ä¸ºï¼š</p>
<ul>
<li>è¯·æ±‚æ–¹ï¼ˆ<code>x.com</code>å‰ç«¯ï¼‰å®šä¹‰ä¸€ä¸ªå‘é€è¯·æ±‚æˆåŠŸ/å¤±è´¥åæ‰§è¡Œçš„å‡½æ•°fï¼ˆå›è°ƒå‡½æ•°ï¼Œå³ä½¿ç”¨æ–¹æ³•æä¾›å‡½æ•°ç»™å¯¹æ–¹è°ƒç”¨ï¼‰ï¼›</li>
<li>è¯·æ±‚æ–¹åŠ¨æ€åˆ›å»ºscriptï¼ˆæ·»åŠ åˆ°bodyï¼‰ï¼Œå…¶srcæŒ‡å‘å“åº”æ–¹urlï¼ˆ<code>y.com</code>åç«¯ï¼‰ï¼ŒåŒæ—¶å°†å›è°ƒå‡½æ•°åä½œä¸ºå‚æ•°ä¼ é€’ï¼Œå³<code>http://y.com?callback=f</code>;</li>
<li>å“åº”æ–¹æ³•æ¥æ”¶è¯·æ±‚ï¼Œæ ¹æ®æŸ¥è¯¢å‚æ•°få’Œè¿”å›çš„æ•°æ®ã€æ„é€ è°ƒç”¨è¿™å‡½æ•°çš„javaScriptä»£ç å­—ç¬¦ä¸²ï¼Œå½¢å¦‚<code>f.call(undefined,data)</code>æˆ–<code>f(data)</code>ä½œä¸ºå“åº”ç»“æœè¿”å›ç»™è¯·æ±‚æ–¹ï¼›</li>
<li>è¯·æ±‚æ–¹æµè§ˆå™¨æ¥æ”¶å“åº”ï¼ˆä¸€æ®µjsä»£ç ï¼‰ï¼Œè¢«æ·»åŠ åˆ°bodyå°±ä¼šæ‰§è¡Œ<code>f.call(undefined,data)</code>,ä»è€Œè·å¾—éœ€è¦çš„æ•°æ®dataï¼›</li>
</ul>
<p>ç¤ºä¾‹ï¼šJSONPè¯·æ±‚</p>
<p>â€‹          è¯·æ±‚æ–¹html</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    button.addEventListener(</span><br><span class="line">        <span class="string">'click'</span>, (e) =&gt; &#123;</span><br><span class="line">            <span class="keyword">let</span> functionName = <span class="string">'x'</span> + <span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random() * <span class="number">10000</span>, <span class="number">10</span>)    <span class="comment">// éšæœºç”Ÿæˆå›è°ƒå‡½æ•°åç§°</span></span><br><span class="line">            <span class="built_in">window</span>[functionName] = <span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (result === <span class="string">'success'</span>) &#123;</span><br><span class="line">                    <span class="comment">// ...</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">let</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>)</span><br><span class="line">            script.src = <span class="string">'http://y.com/?callback='</span> + functionName     <span class="comment">// å‘é€è¯·æ±‚è·å–script</span></span><br><span class="line">            <span class="built_in">document</span>.body.appendChild(script)    <span class="comment">// æŠŠscriptåŠ å…¥bodyä¸­ï¼Œè‡ªåŠ¨æ‰§è¡Œ</span></span><br><span class="line">            script.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">                e.currentTarget.remove()</span><br><span class="line">                <span class="keyword">delete</span> <span class="built_in">window</span>[functionName]</span><br><span class="line">            &#125;</span><br><span class="line">            script.onerror = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">                e.currentTarget.remove()</span><br><span class="line">                <span class="keyword">delete</span> <span class="built_in">window</span>[functionName]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ç”¨jQueryï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    url: <span class="string">'http://y.com/?callback='</span> + functionName,</span><br><span class="line">    dataType: <span class="string">'jsonp'</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(response === <span class="string">'success'</span>)&#123;</span><br><span class="line">           <span class="comment">// ...</span></span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>è®©æˆ‘ä»¬ä¹Ÿçœ‹çœ‹åç«¯æ¥å£çš„å†™æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = require(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line">app.get(<span class="string">'/gettime'</span>, (req, res) =&gt; &#123;</span><br><span class="line">  let &#123; callback &#125; = req.query;</span><br><span class="line">  let data = JSON.stringfy( &#123;a:<span class="number">1</span>,b:<span class="number">2</span>&#125; )</span><br><span class="line">  res.end(`$&#123;callback&#125;($&#123;data&#125;)`)</span><br><span class="line">&#125;)</span><br><span class="line">    </span><br><span class="line">app.listen(<span class="number">3000</span>, () =&gt; &#123;</span><br><span class="line">  console.log(<span class="string">'ä½ å¯ä»¥é€šè¿‡http://localhost:3000æ¥è®¿é—®...'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>(å†™è¿‡nodeçš„æœ‹å‹æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰)</p>
<p>å½“ç„¶ï¼Œåç«¯æ¡†æ¶ä¸­ä¹Ÿæœ‰ç°æˆçš„è§£å†³æ–¹æ¡ˆï¼Œä¸è¦éœ€è¦å†™çš„è¿™ä¹ˆå¤æ‚ã€‚expressæ¡†æ¶å·²ç»æä¾›äº†ä¸€ä¸ªåä¸ºjsonpçš„æ–¹æ³•æ¥å¤„ç†jsonpè¯·æ±‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = require(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line">app.get(<span class="string">'/gettime'</span>, (req, res) =&gt; &#123;</span><br><span class="line">  let data = &#123;a:<span class="number">1</span>,b:<span class="number">2</span>&#125;</span><br><span class="line">  res.jsonp(data)</span><br><span class="line">&#125;)</span><br><span class="line">app.listen(<span class="number">3000</span>, () =&gt; &#123;</span><br><span class="line">  console.log(<span class="string">'ä½ å¯ä»¥é€šè¿‡http://localhost:3000æ¥è®¿é—®...'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>é€ä½ ä»¬ä¸€æ®µæ¨¡æ‹Ÿä»£ç ï¼ˆæ‰‹å†™jsonpï¼Œä¸ç”¨å®¢æ°”ï¼‰</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>htmlé¡µé¢<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>jsonp<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>éœ€è¦åç«¯æ¥å£çš„é…åˆï¼šhttp://localhost:3005/jsonp<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line">        //--åç«¯æµ‹è¯•ä»£ç å¦‚ä¸‹</span><br><span class="line">          const express = require('express');</span><br><span class="line">          const app = express()</span><br><span class="line">          </span><br><span class="line">          // ç•™è¨€æ¿æ¥å£ -- è·å–æ‰€æœ‰æ•°æ®</span><br><span class="line">          app.get('/jsonp', (req, res) =&gt; &#123;</span><br><span class="line">            var &#123; callback &#125; = req.query;</span><br><span class="line">          </span><br><span class="line">            res.setHeader('content-type', 'application/javascript');</span><br><span class="line">          </span><br><span class="line">            res.end(callback + '(&#123;a:1,b:2&#125;)');</span><br><span class="line">          &#125;);</span><br><span class="line">          </span><br><span class="line">          app.listen(3000,()=&gt;&#123;&#125;)</span><br><span class="line">      <span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">buildCallBackFunction</span>(<span class="params">options, callbackFunName</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>[callbackFunName] = <span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123;</span></span><br><span class="line">          options.success(result);</span><br><span class="line"><span class="javascript">          <span class="built_in">window</span>[callbackFunName] = <span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">delete</span> <span class="built_in">window</span>[callbackFunName];</span></span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;</span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">buildParam</span>(<span class="params">options</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> params = options.params;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (!params) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="string">''</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="keyword">typeof</span> params === <span class="string">'object'</span>) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> arr = [];</span></span><br><span class="line"><span class="javascript">          <span class="keyword">for</span> (<span class="keyword">var</span> p <span class="keyword">in</span> params) &#123;</span></span><br><span class="line"><span class="javascript">            arr.push(<span class="string">`p=<span class="subst">$&#123;params[p]&#125;</span>`</span>);</span></span><br><span class="line">          &#125;</span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> arr.join(<span class="string">'&amp;'</span>);</span></span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> params === <span class="string">'string'</span>) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> params;</span></span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="string">''</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">        </span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">buildScript</span>(<span class="params">url</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span></span><br><span class="line"><span class="javascript">        script.setAttribute(<span class="string">'src'</span>, url);</span></span><br><span class="line"><span class="javascript">        script.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>].removeChild(script);</span></span><br><span class="line">        &#125;;</span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>].appendChild(script);</span></span><br><span class="line">      &#125;</span><br><span class="line">        </span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">json</span>(<span class="params">options</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> &#123; url, params, success &#125; = options;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> callbackFunName = <span class="string">'callback_'</span> + <span class="built_in">Date</span>.now();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> params = buildParam(options);</span></span><br><span class="line"><span class="javascript">        params += !params ? <span class="string">'callback='</span> + callbackFunName : <span class="string">'&amp;callback='</span> + callbackFunName;</span></span><br><span class="line"><span class="javascript">        url += <span class="string">'?'</span> + params;</span></span><br><span class="line">        buildCallBackFunction(options, callbackFunName);</span><br><span class="line">        buildScript(url);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      json(&#123;</span><br><span class="line"><span class="javascript">        url: <span class="string">'http://localhost:3005/jsonp/jsonp'</span>,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// params: 'a=1&amp;b=2',</span></span></span><br><span class="line">        params: &#123; a: 1, b: 2 &#125;,</span><br><span class="line"><span class="javascript">        success: <span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(result);</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å“åº”æ–¹node.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (path === <span class="string">'/'</span> &amp;&amp; method === <span class="string">'GET'</span>) &#123;</span><br><span class="line">    response.setHeader(<span class="string">'Content-Type'</span>, <span class="string">'application/javascript'</span>)</span><br><span class="line">    response.write(<span class="string">`</span></span><br><span class="line"><span class="string">        <span class="subst">$&#123;query.callback&#125;</span>.call(undefined, 'success')</span></span><br><span class="line"><span class="string">    `</span>)</span><br><span class="line">    response.end()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸€äº›ç»†èŠ‚ï¼š</p>
<ul>
<li>é™¤äº†<code>&lt;a&gt;</code>æ ‡ç­¾å¤–ï¼Œ<code>&lt;script&gt;</code>ï¼ˆåªèƒ½ä»¥è„šæœ¬å½¢å¼è¿è¡Œï¼‰ã€<code>&lt;img&gt;</code>ï¼ˆåªèƒ½å±•ç¤ºä¸ºå›¾ç‰‡ï¼‰éƒ½å¯ä»¥ç”¨ä½œå‘è¯·æ±‚ï¼ˆHttp Headers<code>Content-Type</code>ä¸­çš„<code>image/jpg</code>ã€<code>text/jacascript</code>);</li>
<li>å‘é€è¯·æ±‚ã€æ¥æ”¶å“åº”ç„¶åå¯ä»¥æŠŠæ•°æ®å¡«å……åˆ°é¡µé¢ä¸Šï¼Œè€Œä¸éœ€è¦åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼›</li>
<li>ä¸åŒç½‘ç«™ä¹‹é—´scriptè®¿é—®ä¸å—é™åˆ¶ï¼ˆé˜²ç›—é“¾é™¤å¤–ï¼‰ï¼Œå› æ­¤å¯ä»¥åœ¨é¡µé¢ä¸Š<code>&lt;script src=&#39;xxx&#39;&gt;&lt;/script&gt;</code>å¼•ç”¨scriptå¹¶è‡ªåŠ¨æ‰§è¡Œï¼ŒJSONä¹Ÿå¸¸è¢«ç”¨ä½œå‰åç«¯æ•°æ®äº¤äº’çš„æ–¹å¼ï¼›</li>
<li>è¯·æ±‚æ–¹åŠ¨æ€åˆ›å»ºå›è°ƒå‡½æ•°ï¼Œåç§°ä¸€èˆ¬ä½¿ç”¨éšæœºæ•°ã€æ‰§è¡Œåé”€æ¯ã€é¿å…æ±¡æŸ“å‘½åç©ºé—´ï¼Œè€Œä¸”æ‰§è¡ŒæˆåŠŸ/å¤±è´¥åä¼šä»é¡µé¢ä¸ŠæŠŠscriptåˆ é™¤ï¼›</li>
<li>ç”±äºé¡µé¢ä¸Šæ‰§è¡Œçš„é€»è¾‘å®Œå…¨ç”±è¯·æ±‚æ–¹å‰ç«¯å®ç°ï¼Œå“åº”æ–¹åç«¯åªéœ€è¦å†™å¥½æ‰§è¡Œå›è°ƒå‡½æ•°çš„å­—ç¬¦ä¸²ï¼ˆå‡½æ•°åç§°ä¸ºè¯·æ±‚å‚æ•°ï¼‰ã€å¡«å……è¿”å›çš„æ•°æ®å³å¯ï¼Œå®ç°äº†å‰åç«¯è§£è€¦ï¼›</li>
<li>ç”±äºJSONPæ˜¯é€šè¿‡åŠ¨æ€åˆ›å»ºçš„scriptå®ç°çš„ï¼Œæ‰€ä»¥åªæ”¯æŒgetè¯·æ±‚ï¼Œä¸”åªèƒ½ä¸ºè„šæœ¬å½¢å¼è¿è¡Œã€‚</li>
</ul>
<hr>
<h2 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h2><p><strong>åŒæºç­–ç•¥</strong></p>
<ul>
<li>åªæœ‰åè®®+ç«¯å£+åŸŸåå®Œå…¨ä¸€æ ·ï¼Œæµè§ˆå™¨æ‰å…è®¸å‘é€XMLHttpRequestè¯·æ±‚ï¼ˆå¯ä»¥å‘é€è¯·æ±‚ï¼Œä½†ä¸èƒ½è·å–å“åº”ï¼‰ï¼›</li>
<li>CORSï¼ˆCross-Origin Resource Sharingï¼‰è·¨åŸŸï¼šè¦å‘é€ä¸åŒæºï¼ˆå³åè®®ã€ç«¯å£å·ã€åŸŸåä¸­ä¸€ä¸ªæˆ–å¤šä¸ªä¸åŒï¼‰è¯·æ±‚ï¼Œéœ€è¦æœåŠ¡ç«¯é…åˆï¼Œåœ¨å“åº”å¤´ä¸­åŠ å…¥<code>Access-Control-Allow-Origin</code>å­—æ®µã€å†…å®¹ä¸ºè¯·æ±‚æ–¹åŸŸåå³å¯æ”¾è¡Œã€‚</li>
</ul>
<p>AJXAå³â€œAsynchronous Jacascript And XMLâ€ï¼Œä»¥XMLå’Œjsonæ ¼å¼ä½œå‰åç«¯äº¤äº’ï¼Œæ”¯æŒå‘é€å„ç§HTTPè¯·æ±‚åŠä»»ä½•å½¢å¼å±•ç¤ºå“åº”ï¼Œè¿™ä¸ªè¿‡ç¨‹ï¼š</p>
<ul>
<li>ä½¿ç”¨XMLHttpRequestå‘é€è¯·æ±‚</li>
<li>æœåŠ¡å™¨è¿”å›XML/JSONæ ¼å¼å­—ç¬¦ä¸²</li>
<li>å‰ç«¯JavaScriptè§£æXMLï¼Œå¹¶æ›´æ–°å±€éƒ¨é¡µé¢ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼ˆå‘é€XMLHttpRequestè¯·æ±‚ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">let request = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">request.open(<span class="string">'get'</span>,<span class="string">'http://x.com'</span>)</span><br><span class="line">request.onredystatechange = () =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (requset.readyState === <span class="number">4</span> &amp;&amp; request.status &gt;= <span class="number">200</span> &amp;&amp; request.status &lt; <span class="number">300</span>) &#123;</span><br><span class="line">        let string = requst.responsrText</span><br><span class="line">        let object = window.JSON.parse(string)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">requst.send()</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="xml"><a href="#xml" class="headerlink" title="xml"></a>xml</h2><p>ç›®å‰å·²ç»å¾ˆå°‘ç”¨ä½œå‰åç«¯äº¤äº’ï¼Œå‰ç«¯jsè§£æXMLå­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">let parser = <span class="keyword">new</span> DOMParser()</span><br><span class="line">let xmlDoc = parser.parserFromString(xmlSring)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç„¶åå¯ä»¥ä½¿ç”¨DOM APIæ“ä½œXMLï¼Œå¾ˆéº»çƒ¦</span></span><br><span class="line">xmlDoc.getElementsByTagName(<span class="string">'heading'</span>)[<span class="number">0</span>].textContent</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><p>jsonæ˜¯ä¸€ç§ç±»ä¼¼JavaScriptçš„æ•°æ®æ ¼å¼åŒ–è¯­è¨€ï¼š</p>
<table>
<thead>
<tr>
<th><strong>ç±»å‹</strong></th>
<th><strong>JavaScript</strong></th>
<th><strong>JSON</strong></th>
</tr>
</thead>
<tbody><tr>
<td>æœªå®šä¹‰</td>
<td><code>undefined</code></td>
<td>-</td>
</tr>
<tr>
<td>ç©º</td>
<td><code>null</code></td>
<td><code>null</code></td>
</tr>
<tr>
<td>æ•°ç»„</td>
<td><code>[&#39;a&#39;,[&#39;b&#39;]]</code></td>
<td><code>[&quot;a&quot;,&quot;b&quot;]</code></td>
</tr>
<tr>
<td>å‡½æ•°</td>
<td><code>function(){}</code></td>
<td>-</td>
</tr>
<tr>
<td>å¯¹è±¡</td>
<td><code>{&quot;name&quot;,&quot;lgq&quot;}</code></td>
<td><code>{&quot;name&quot;,&quot;lgq&quot;}</code></td>
</tr>
<tr>
<td>å­—ç¬¦ä¸²</td>
<td><code>lgq</code></td>
<td><code>lgq</code></td>
</tr>
<tr>
<td>å˜é‡</td>
<td><code>var a = {}; a.self = a</code></td>
<td>-</td>
</tr>
<tr>
<td>åŸå‹é“¾</td>
<td><code>{_proto_}</code></td>
<td>-</td>
</tr>
</tbody></table>
<p>æ³¨æ„jsonå­—ç¬¦ä¸²çš„è¡¨ç¤ºå¿…é¡»ç”¨åŒå¼•å·ï¼Œå‰ç«¯jsè§£æJSONå­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">let jsonObj = wiodiw,JSON.parse(jsonnString)  <span class="comment">// è¿”å›JSå¯¹åº”ç±»å‹çš„å˜é‡</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="å®ç°AJAX"><a href="#å®ç°AJAX" class="headerlink" title="å®ç°AJAX"></a>å®ç°AJAX</h2><p><strong>HTTPè¯·æ±‚è®¾ç½®</strong></p>
<p>request line</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">request.open(<span class="string">'post'</span>,<span class="string">'/xxx'</span>)</span><br></pre></td></tr></table></figure>

<p>request headers</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">request.setRequestHeader(<span class="string">'Content-Type'</span>,<span class="string">'x-www-form-urlencoded'</span>)</span><br></pre></td></tr></table></figure>

<p>request  playload (get è¯·æ±‚é»˜è®¤ä¸æ˜¾ç¤º)</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">request.send(<span class="string">'lgq 18'</span>)</span><br></pre></td></tr></table></figure>

<p><strong>HTTPå“åº”è¯»å–</strong></p>
<p>request line ï¼ˆæ³¨æ„çŠ¶æ€ç ä¸ä»£è¡¨è¿”å›ä¿¡æ¯ï¼Œå³ä½¿æ˜¯404ä¹Ÿæœ‰å¯èƒ½å¸¦å“åº”ï¼‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> status = request.status</span><br><span class="line"><span class="keyword">let</span> statusText = request.statusText</span><br></pre></td></tr></table></figure>

<p>response headers</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> headers = request.getAllResponseHeaders()</span><br><span class="line"><span class="keyword">let</span> contentType = request.getResponseHeader(<span class="string">'Content-Type'</span>)</span><br></pre></td></tr></table></figure>

<p>response body</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> body = request.responseText</span><br></pre></td></tr></table></figure>

<p><strong>æ¨¡æ‹ŸjQueryå‘é€HTTPè¯·æ±‚</strong></p>
<p>å‰é¢æåˆ°ä½¿ç”¨åŸç”Ÿjsè‡ªè¡Œå®ç°jQueryï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.jQuery = <span class="function"><span class="keyword">function</span>(<span class="params">nodesOrSelector</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­ä¼ å…¥çš„æ˜¯èŠ‚ç‚¹è¿˜æ˜¯é€‰æ‹©å™¨å­—ç¬¦ä¸²ï¼Œè½¬æ¢æˆç»Ÿä¸€çš„å¯¹è±¡ï¼ˆä¼ªæ•°ç»„ï¼‰</span></span><br><span class="line">    <span class="keyword">let</span> nodes = &#123;&#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> nodesOrSelector === <span class="string">'string'</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> temp = <span class="built_in">document</span>.querySelectorAll(nodesOrSelector)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; temp.length; i++) &#123;</span><br><span class="line">            nodes[i] = temp[i]</span><br><span class="line">        &#125;</span><br><span class="line">        nodes.length = temp.length</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (nodesOrSelector <span class="keyword">instanceof</span> Node) &#123;</span><br><span class="line">        nodes = &#123;</span><br><span class="line">            <span class="number">0</span>: nodesOrSelector,</span><br><span class="line">            length: <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nodes</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.$ = jQuery    <span class="comment">// èµ·åˆ«å</span></span><br><span class="line"><span class="keyword">var</span> node = $(item)    <span class="comment">// è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå†…éƒ¨å°è£…äº†å¤šä¸ªå‡½æ•°</span></span><br></pre></td></tr></table></figure>

<p>æŠŠAJAXå°è£…ä¸ºjQueryä¸€ä¸ªå‡½æ•°æ¥è°ƒç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.$.ajax = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> url    <span class="comment">// æ¥å—ä¸¤ç§å½¢å¼çš„å‚æ•°ï¼š(url, options)æˆ–(options)ï¼ˆoptionsä¸­åŒ…å«urlï¼‰</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">1</span>) &#123;</span><br><span class="line">        url = options.url</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        url = <span class="built_in">arguments</span>[<span class="number">0</span>]</span><br><span class="line">        options = <span class="built_in">arguments</span>[<span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> method = options.method</span><br><span class="line">    <span class="keyword">let</span> headers = options.headers</span><br><span class="line">    <span class="keyword">let</span> body = options.body</span><br><span class="line">    <span class="keyword">let</span> success = options.success</span><br><span class="line">    <span class="keyword">let</span> fail = options.fail </span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> reqeust = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> headers) &#123;</span><br><span class="line">        request.setRequestHeader(key, headers[key])</span><br><span class="line">    &#125;</span><br><span class="line">    request.onreadystatechange = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (request.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (request.status &gt;= <span class="number">200</span> &amp;&amp; request.status &lt; <span class="number">300</span>) &#123;</span><br><span class="line">                success.call(<span class="literal">undefined</span>, request.responseText)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                fail.call(<span class="literal">undefined</span>, request)    </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    request.send(body)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">btn.addEventListener(<span class="string">'click'</span>, (e) =&gt; &#123;</span><br><span class="line">    <span class="built_in">window</span>.$.ajax(&#123;</span><br><span class="line">        url: <span class="string">'/xxx'</span>, </span><br><span class="line">        method: <span class="string">'get'</span>, </span><br><span class="line">        <span class="comment">// headers: '', </span></span><br><span class="line">        <span class="comment">// body: '', </span></span><br><span class="line">        success: <span class="function">(<span class="params">x</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(x)</span><br><span class="line">        &#125;, </span><br><span class="line">        fail: <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;    <span class="comment">// æ³¨æ„ç®­å¤´å‡½æ•°æ²¡æœ‰arguments</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç»“æ„åŒ–å‚æ•°ï¼Œå¦‚æœæ”¹ç”±é€ä¸ªå‚æ•°ä¼ å…¥å­˜åœ¨é—®é¢˜ï¼š</span></span><br><span class="line"><span class="comment">// å°è£…åæ— æ³•è·å–å‡½æ•°å‚æ•°åç§°ï¼ˆåº”è¯¥ä¼ å…¥ä»€ä¹ˆï¼Ÿï¼‰ï¼›</span></span><br><span class="line"><span class="comment">// æ²¡æœ‰é»˜è®¤å‚æ•°ï¼Œåªèƒ½ä¼ å…¥undefined/nullå ä½ï¼ˆå¾ˆéš¾çœ‹ï¼‰ï¼›</span></span><br></pre></td></tr></table></figure>

<p>ä¾ç„¶å­˜åœ¨é—®é¢˜ï¼šè°ƒç”¨å‡½æ•°ä¾ç„¶ä¾ç„¶éœ€è¦é€šè¿‡æ–‡æ¡£è·æ‚‰å‚æ•°çš„åç§°ï¼Œè°ƒç”¨ä¸æ–¹ä¾¿</p>
<p>ä½¿ç”¨Promiseä¼˜åŒ–ï¼šthenå¯ä»¥è¿ç»­æ ¹æ®æ¯æ¬¡æˆåŠŸ/å¤±è´¥å¤„ç†åçš„ç»“æœï¼Œè°ƒç”¨æŒ‡å®šçš„å‡½æ•°åšå¤šæ¬¡å¤„ç†ï¼Œè€Œä¸éœ€è¦æŠŠæ‰€æœ‰å‡½æ•°éƒ½å°è£…åœ¨success/failçš„å‡½æ•°ä¸­ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.$.ajax = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(    <span class="comment">// è¿”å›Promiseå¯¹è±¡</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">1</span>) &#123;</span><br><span class="line">                url = options.url</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                url = <span class="built_in">arguments</span>[<span class="number">0</span>]</span><br><span class="line">                options = <span class="built_in">arguments</span>[<span class="number">1</span>]</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">let</span> request = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">            request.open(options.method, url)</span><br><span class="line">            request.onreadystatechange = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (request.readyState === <span class="number">4</span>) &#123;    </span><br><span class="line">                    <span class="keyword">if</span> (request.status &gt;= <span class="number">200</span> &amp;&amp; request.status &lt; <span class="number">300</span>) &#123;</span><br><span class="line">                        resolve.call(<span class="literal">undefined</span>, request.responseText)   <span class="comment">// æˆåŠŸï¼šå¯¹åº”Promiseå¯¹è±¡çš„ç¬¬ä¸€ä¸ªå‡½æ•°å‚æ•°</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        reject.call(<span class="literal">undefined</span>, request)    <span class="comment">// å¤±è´¥ï¼šå¯¹åº”Promiseå¯¹è±¡çš„ç¬¬äºŒä¸ªå‡½æ•°å‚æ•°</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            request.send(options.body)</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> promise = <span class="built_in">window</span>.$.ajax(&#123;</span><br><span class="line">    url: <span class="string">'/xxx'</span>,</span><br><span class="line">    method: <span class="string">'get'</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">promise.then(</span><br><span class="line">    (text) =&gt; &#123;&#125;,          <span class="comment">// success</span></span><br><span class="line">    (request) =&gt; &#123;&#125;        <span class="comment">// fail</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç¾å¥½</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>jQueryçš„ajaxé“¾å¼ç¼–ç¨‹æ–¹æ³•</title>
    <url>/2018/05/08/jQuery/</url>
    <content><![CDATA[<h1 id="jQueryçš„ajaxé“¾å¼ç¼–ç¨‹æ–¹æ³•"><a href="#jQueryçš„ajaxé“¾å¼ç¼–ç¨‹æ–¹æ³•" class="headerlink" title="jQueryçš„ajaxé“¾å¼ç¼–ç¨‹æ–¹æ³•"></a>jQueryçš„ajaxé“¾å¼ç¼–ç¨‹æ–¹æ³•</h1><p>å¼€å‘çš„è¿‡ç¨‹ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸€äº›è€—æ—¶é—´çš„æ“ä½œï¼Œæ¯”å¦‚Ajaxè¯»å–æœåŠ¡å™¨æ•°æ®ï¼ˆå¼‚æ­¥æ“ä½œï¼‰ï¼Œéå†ä¸€ä¸ªå¾ˆå¤§çš„æ•°ç»„ï¼ˆåŒæ­¥æ“ä½œï¼‰ã€‚ä¸ç®¡æ˜¯å¼‚æ­¥æ“ä½œï¼Œè¿˜æ˜¯åŒæ­¥æ“ä½œï¼Œæ€»ä¹‹å°±æ˜¯ä¸èƒ½ç«‹å³å¾—åˆ°ç»“æœï¼ŒJSæ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œä¸èƒ½ç«‹å³å¾—åˆ°ç»“æœï¼Œä¾¿ä¼šä¸€ç›´ç­‰å¾…ï¼ˆé˜»å¡ï¼‰ã€‚</p>
<p>ä¸€èˆ¬çš„åšæ³•å°±æ˜¯ç”¨å›è°ƒå‡½æ•°ï¼ˆcallbackï¼‰ï¼Œå³äº‹å…ˆå®šä¹‰å¥½ä¸€ä¸ªå‡½æ•°ï¼Œjså¼•æ“ä¸ç­‰å¾…è¿™äº›è€—æ—¶æ“ä½œï¼Œè€Œæ˜¯ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œç­‰è¿™äº›è€—æ—¶æ“ä½œç»“æŸåï¼Œå›æ¥æ‰§è¡Œäº‹å…ˆå®šä¹‰å¥½çš„é‚£ä¸ªå‡½æ•°ã€‚å¦‚ä¸‹é¢çš„Ajaxä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    url:<span class="string">"test.html"</span>,</span><br><span class="line">    success:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"success"</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    error: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'error'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>ä½†è¿™æ ·å†™ä¸å¤Ÿå¼ºå¤§çµæ´»ï¼Œä¹Ÿå¾ˆå•°å—¦ã€‚å¦‚æ­¤ï¼ŒjQuery1.5ç‰ˆæœ¬å¼•å…¥DeferredåŠŸèƒ½ï¼Œå¦‚å¤„ç†äº‹ä»¶å›è°ƒæä¾›äº†æ›´åŠ å¼ºå¤§è€Œçµæ´»çš„ç¼–ç¨‹æ¨¡å¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$.ajax(<span class="string">"test.html"</span>)</span><br><span class="line">.done(</span><br><span class="line">   <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">"success"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">)</span><br><span class="line">.fail(</span><br><span class="line">   <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">"error"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>ä¸å°±æ˜¯é“¾å¼è°ƒç”¨å˜›ï¼Œæœ‰ä½•ä¼˜ç‚¹ï¼Ÿ</p>
<p><strong>ä¼˜ç‚¹ä¸€ï¼šå¯ä»¥æ¸…æ™°æŒ‡å®šå¤šä¸ªå›è°ƒå‡½æ•°</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fnA</span>(<span class="params"></span>)</span>&#123;...&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fnB</span>(<span class="params"></span>)</span>&#123;...&#125;</span><br><span class="line">$.ajax(<span class="string">"tesst.html"</span>).done(fnA).done(fnB);</span><br></pre></td></tr></table></figure>

<p>è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœç”¨ä»¥å‰çš„ç¼–ç¨‹æ¨¡å¼ï¼Œåªèƒ½è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fnA</span>(<span class="params"></span>)</span>&#123;...&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fnB</span>(<span class="params"></span>)</span>&#123;...&#125;</span><br><span class="line">$.ajax(&#123;</span><br><span class="line">    url:<span class="string">"test.html"</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        fnA();</span><br><span class="line">        fnB();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>ä¼˜ç‚¹äºŒï¼šä¸ºå¤šä¸ªæ“ä½œæŒ‡å®šå›è°ƒå‡½æ•°</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$.when($.ajax(<span class="string">"test1.html"</span>),$ajax(<span class="string">"text2.html"</span>))</span><br><span class="line">.done(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">"success"</span>)&#125;)</span><br><span class="line">.fail(fucntion()&#123;<span class="built_in">console</span>.log(<span class="string">"error"</span>)&#125;)</span><br></pre></td></tr></table></figure>

<p>ç”¨ä¼ ç»Ÿçš„ç¼–ç¨‹æ¨¡å¼ï¼Œåªèƒ½é‡å¤å†™successï¼Œerrorç­‰å›è°ƒäº†ã€‚</p>
]]></content>
      <categories>
        <category>ç¾å¥½</category>
      </categories>
      <tags>
        <tag>jq</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€ä¸ªwebå‰ç«¯çš„å°æœ‹å‹</title>
    <url>/2018/01/01/%E4%BD%A0%E5%A5%BD%E4%B8%96%E7%95%8C/</url>
    <content><![CDATA[<p>æˆ‘è¿™è¾ˆå­æ²¡ä½©æœè¿‡åˆ«äººï¼Œé™¤äº†å®ƒï¼ï¼ï¼</p>
<p>æ„Ÿè°¢æœ‹å‹ï¼Œè¿™ä¸‹æœ‰è‡ªå·±çš„ç”°åœ°äº†ï¼Œæˆ‘ä¼šåœ¨è¿™ç‰‡åœŸåœ°ä¸Šå‹¤å‹¤æ³æ³è€•è€˜ï¼ŒåŠªåŠ›ï¼Œå­¦ä¹ ï¼Œè®°å¿†ï¼Œåˆ†äº«</p>
<h2 id="æœªæ¥å¦‚æ­¤ç¾å¥½ï¼Œæˆ‘ä»¬ä¸€èµ·åŠªåŠ›"><a href="#æœªæ¥å¦‚æ­¤ç¾å¥½ï¼Œæˆ‘ä»¬ä¸€èµ·åŠªåŠ›" class="headerlink" title="æœªæ¥å¦‚æ­¤ç¾å¥½ï¼Œæˆ‘ä»¬ä¸€èµ·åŠªåŠ›"></a>æœªæ¥å¦‚æ­¤ç¾å¥½ï¼Œæˆ‘ä»¬ä¸€èµ·åŠªåŠ›</h2><h3 id="å•¦å•¦å•¦"><a href="#å•¦å•¦å•¦" class="headerlink" title="å•¦å•¦å•¦"></a>å•¦å•¦å•¦</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ä½†å°‘é—²äººå¦‚å¾ä¸¤äººè€…è€³</span><br></pre></td></tr></table></figure>

<h3 id="Serve-you"><a href="#Serve-you" class="headerlink" title="Serve you"></a>Serve you</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">i will give you a free data</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥æ¥çœ‹æˆ‘å“¦ï¼Œå¦ä¸€é¢çš„æˆ‘<a href="https://weibo.com/7292824407/profile?rightmod=1&wvr=6&mod=personinfo&sudaref=lgqyc1212.github.io&display=0&retcode=6102" target="_blank" rel="noopener">micro-blog</a></p>
<h3 id="Mutual-encouragement"><a href="#Mutual-encouragement" class="headerlink" title="Mutual encouragement"></a>Mutual encouragement</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">å‰æ–¹é“è·¯å®½å¤§ï¼Œ90åçš„æˆ‘ä»¬åœ¨åŠªåŠ›ï¼Œwebå‰ç«¯çš„å†å²ä¹¦æœ‰æˆ‘ä»¬æ¥è¿‡ä¹¦å†™ï¼Œå¸Œæœ›æˆ‘ä»¬åœ¨å‰äººçš„è‚©è†€ä¸Šï¼Œæ›´ä¸Šä¸€å±‚æ¥¼ï¼ï¼ï¼</span><br></pre></td></tr></table></figure>

<p>ä¸€èµ·å­¦ä¹ <a href="https://github.com/lgqyc1212"> gitHud</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Ø§Ù„Ù‚Ø±Ø¢Ù†</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
</search>
